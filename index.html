<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>حساب المعدل الجامعي - الذكي والمتطور</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js للرسوم البيانية -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- شاشة التحميل -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <div class="loading-text">جاري تحميل التطبيق...</div>
    </div>

    <!-- نافذة تسجيل الدخول -->
    <div class="auth-modal" id="authModal">
        <div class="auth-box">
            <div class="auth-header">
                <h2><i class="fas fa-user-graduate"></i> حساب المعدل الجامعي</h2>
                <p>سجل دخولك لحفظ بياناتك ومتابعة معدلك</p>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">تسجيل الدخول</div>
                <div class="auth-tab" data-tab="register">إنشاء حساب</div>
            </div>
            
            <div class="auth-error" id="authError"></div>
            
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">البريد الإلكتروني</label>
                    <input type="email" id="loginEmail" required placeholder="example@email.com">
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">كلمة المرور</label>
                    <input type="password" id="loginPassword" required placeholder="••••••••">
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i> تسجيل الدخول
                </button>
                
            </form>
            
            <form class="auth-form" id="registerForm">
                <div class="form-group">
                    <label for="registerName">الاسم الكامل</label>
                    <input type="text" id="registerName" required placeholder="أحمد محمد">
                </div>
                
                <div class="form-group">
                    <label for="registerEmail">البريد الإلكتروني</label>
                    <input type="email" id="registerEmail" required placeholder="example@email.com">
                </div>
                
                <div class="form-group">
                    <label for="registerPassword">كلمة المرور</label>
                    <input type="password" id="registerPassword" required placeholder="••••••••">
                </div>
                
                <div class="form-group">
                    <label for="registerConfirmPassword">تأكيد كلمة المرور</label>
                    <input type="password" id="registerConfirmPassword" required placeholder="••••••••">
                </div>
                
                <div class="form-group">
                    <label for="userType">نوع المستخدم</label>
                    <select id="userType" required>
                        <option value="student">طالب</option>
                        <option value="admin">مشرف</option>
                    </select>
                    <small style="color: var(--gray-medium); display: block; margin-top: 5px;">
                        اختر "مشرف" إذا كان لديك كود المشرف
                    </small>
                </div>
                
                <div class="form-group" id="adminCodeGroup" style="display: none;">
                    <label for="adminCode">كود المشرف</label>
                    <input type="password" id="adminCode" placeholder="أدخل كود المشرف">
                    <small style="color: var(--gray-medium); display: block; margin-top: 5px;">
                        مطلوب لإنشاء حساب مشرف
                    </small>
                </div>
                
                <button type="submit" class="btn btn-success" style="width: 100%;">
                    <i class="fas fa-user-plus"></i> إنشاء حساب
                </button>
            </form>
        </div>
    </div>

    <!-- الهيدر الرئيسي -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <i class="fas fa-calculator fa-2x"></i>
                    <h1>حساب المعدل الجامعي</h1>
                </div>
                
                <div class="user-section" id="userSection">
                    <div class="user-info" id="userInfo" style="display: none;">
                        <div class="user-avatar" id="userAvatar">م</div>
                        <span class="user-name" id="userName">مستخدم</span>
                        <span class="user-badge" id="userBadge" style="display: none;"></span>
                    </div>
                    
                    <div class="auth-buttons" id="authButtons">
                        <button class="btn-auth" id="loginBtn">
                            <i class="fas fa-sign-in-alt"></i> تسجيل الدخول
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- زر القائمة الجانبية -->
    <div class="sidebar-toggle" id="sidebarToggle">
        <i class="fas fa-bars fa-lg"></i>
    </div>

    <!-- القائمة الجانبية -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-sliders-h"></i> أدوات التحكم</h3>
        </div>
        
        <nav class="sidebar-nav">
            <a class="nav-item active" data-tab="dashboard">
                <i class="fas fa-home"></i> لوحة التحكم
            </a>
            <a class="nav-item" data-tab="semesters">
                <i class="fas fa-calendar-alt"></i> الفصول الدراسية
            </a>
            <a class="nav-item" data-tab="courses">
                <i class="fas fa-book"></i> إدارة المواد
            </a>
            <a class="nav-item" data-tab="gradeCalc">
                <i class="fas fa-calculator"></i> حساب العلامات
            </a>
            <a class="nav-item" data-tab="search">
                <i class="fas fa-search"></i> البحث عن المواد
            </a>
            <a class="nav-item" data-tab="statistics">
                <i class="fas fa-chart-line"></i> الإحصائيات
            </a>
            
            <div class="nav-divider" id="adminDivider" style="display: none;"></div>
            
            <a class="nav-item" data-tab="adminPanel" id="adminNavItem" style="display: none;">
                <i class="fas fa-user-shield"></i> لوحة الإشراف
            </a>
            
            <div class="nav-divider"></div>
            
            <a class="nav-item" data-tab="profile">
                <i class="fas fa-user-cog"></i> إعدادات الحساب
            </a>
            <a class="nav-item" id="exportDataSidebar">
                <i class="fas fa-file-export"></i> تصدير البيانات
            </a>
            <a class="nav-item" id="importDataSidebar">
                <i class="fas fa-file-import"></i> استيراد البيانات
            </a>
            <a class="nav-item" id="logoutSidebar">
                <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
            </a>
        </nav>
    </aside>

    <!-- المحتوى الرئيسي -->
    <div class="app-container">
        <div class="main-content-wrapper" id="mainContentWrapper">
            <main class="main-content">
                <div class="container">
                    <!-- لوحة التحكم -->
                    <section class="content-section active" id="dashboardSection">
                        <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                            <i class="fas fa-tachometer-alt"></i> لوحة التحكم
                        </h2>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <i class="fas fa-graduation-cap fa-2x" style="color: var(--primary-color);"></i>
                                <div class="stat-value" id="totalGPA">0.00</div>
                                <div class="stat-label">المعدل التراكمي العام</div>
                            </div>
                            
                            <div class="stat-card">
                                <i class="fas fa-book fa-2x" style="color: var(--success-color);"></i>
                                <div class="stat-value" id="totalCredits">0</div>
                                <div class="stat-label">إجمالي الساعات المعتمدة</div>
                            </div>
                            
                            <div class="stat-card">
                                <i class="fas fa-layer-group fa-2x" style="color: var(--secondary-color);"></i>
                                <div class="stat-value" id="totalSemesters">0</div>
                                <div class="stat-label">عدد الفصول الدراسية</div>
                            </div>
                            
                            <div class="stat-card">
                                <i class="fas fa-book-reader fa-2x" style="color: var(--warning-color);"></i>
                                <div class="stat-value" id="totalCourses">0</div>
                                <div class="stat-label">إجمالي المواد الدراسية</div>
                            </div>
                        </div>
                        
                        <div class="info-box" id="userCollegeInfo" style="display: none;">
                            <h4><i class="fas fa-university"></i> معلومات الكلية والتخصص</h4>
                            <p style="margin-top: 10px;">
                                <strong>الكلية:</strong> <span id="currentCollege">-</span><br>
                                <strong>التخصص:</strong> <span id="currentMajor">-</span>
                            </p>
                        </div>
                        
                        <div class="chart-section">
                            <h3 style="margin-bottom: 20px; color: var(--dark-color);">
                                <i class="fas fa-chart-line"></i> تطور المعدل التراكمي
                            </h3>
                            <div class="chart-container">
                                <canvas id="cumulativeChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="info-box">
                            <h4><i class="fas fa-lightbulb"></i> نصائح سريعة</h4>
                            <ul style="margin-top: 10px; padding-right: 20px;">
                                <li>استخدم صفحة "حساب العلامات" لحساب علامة النهائي بناءً على العلامة النصفية</li>
                                <li>المعدل يحسب من 100% (مجموع (العلامة × الساعات) ÷ مجموع الساعات)</li>
                                <li>البيانات تحفظ تلقائياً عند تسجيل الدخول</li>
                                <li>تابع تطور معدلك من خلال الرسوم البيانية</li>
                            </ul>
                        </div>
                    </section>

                    <!-- الفصول الدراسية -->
                    <section class="content-section" id="semestersSection">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: var(--dark-color);">
                                <i class="fas fa-calendar-alt"></i> الفصول الدراسية
                            </h2>
                            <button class="add-semester-btn" id="addSemesterBtn">
                                <i class="fas fa-plus"></i> إضافة فصل دراسي جديد
                            </button>
                        </div>
                        
                        <div id="semestersContainer">
                            <!-- سيتم تحميل الفصول الدراسية هنا -->
                        </div>
                    </section>

                    <!-- إدارة المواد -->
                    <section class="content-section" id="coursesSection">
                        <div class="tab-buttons">
                            <button class="tab-btn active" data-tab="addCourse">إضافة مادة</button>
                            <button class="tab-btn" data-tab="manageCourses">إدارة المواد</button>
                        </div>
                        
                        <!-- إضافة مادة -->
                        <div class="tab-content" id="addCourseTab" style="display: block;">
                            <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                                <i class="fas fa-plus-circle"></i> إضافة مادة جديدة
                            </h2>
                            
                            <div class="calculation-formula">
                                <h4><i class="fas fa-calculator"></i> طريقة حساب المعدل</h4>
                                <p>المعدل = مجموع (علامة المادة × ساعات المادة) ÷ مجموع الساعات</p>
                                <div class="formula-text">∑(العلامة × الساعات) ÷ ∑(الساعات)</div>
                            </div>
                            
                            <div class="info-box" style="margin-bottom: 30px;">
                                <h4><i class="fas fa-info-circle"></i> تعليمات إضافة المادة</h4>
                                <p>1. اختر الفصل الدراسي من القائمة</p>
                                <p>2. اختر المادة من القائمة (حسب تخصصك)</p>
                                <p>3. أدخل <strong>علامة المادة الكاملة</strong> (النسبة المئوية النهائية من 100)</p>
                                <p>4. لحساب علامة النهائي بناءً على النصفي، انتقل لصفحة "حساب العلامات"</p>
                            </div>
                            
                            <div class="semester-card">
                                <div id="courseFormContainer">
                                    <!-- سيتم تحميل نموذج المادة هنا -->
                                    <p style="color: var(--gray-medium); text-align: center; padding: 30px;">
                                        اختر الفصل الدراسي أولاً
                                    </p>
                                </div>
                                
                                <div id="courseRatingSection" style="margin-top: 20px; display: none;">
                                    <h4 style="margin-bottom: 15px;"><i class="fas fa-star"></i> تقييم المادة</h4>
                                    <div class="rating-section">
                                        <div class="rating-option rating-easy" data-rating="easy">
                                            <div class="rating-icon">س</div>
                                            <div>
                                                <strong>سهلة</strong>
                                                <p style="font-size: 0.9rem; color: var(--gray-medium); margin-top: 2px;">
                                                    المادة سهلة نسبياً
                                                </p>
                                            </div>
                                        </div>
                                        <div class="rating-option rating-medium" data-rating="medium">
                                            <div class="rating-icon">م</div>
                                            <div>
                                                <strong>متوسطة</strong>
                                                <p style="font-size: 0.9rem; color: var(--gray-medium); margin-top: 2px;">
                                                    المادة تحتاج جهد معقول
                                                </p>
                                            </div>
                                        </div>
                                        <div class="rating-option rating-hard" data-rating="hard">
                                            <div class="rating-icon">ص</div>
                                            <div>
                                                <strong>صعبة</strong>
                                                <p style="font-size: 0.9rem; color: var(--gray-medium); margin-top: 2px;">
                                                    المادة تحتاج جهد كبير
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary" id="addCourseBtn" style="margin-top: 20px;">
                                    <i class="fas fa-plus"></i> إضافة المادة
                                </button>
                            </div>
                        </div>
                        
                        <!-- إدارة المواد -->
                        <div class="tab-content" id="manageCoursesTab" style="display: none;">
                            <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                                <i class="fas fa-tasks"></i> إدارة المواد
                            </h2>
                            
                            <div id="allCoursesContainer">
                                <!-- عرض جميع المواد -->
                            </div>
                        </div>
                    </section>

                    <!-- حساب العلامات -->
                    <section class="content-section" id="gradeCalcSection">
                        <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                            <i class="fas fa-calculator"></i> حساب علامة النهائي
                        </h2>
                        
                        <div class="info-box" style="margin-bottom: 30px;">
                            <h4><i class="fas fa-info-circle"></i> كيف يعمل حساب النهائي؟</h4>
                            <p>1. اختر نوع العلامات من الخيارات أدناه</p>
                            <p>2. أدخل علامة النصفي (أو العملي/النشاط حسب النوع)</p>
                            <p>3. أدخل <strong>علامة المادة الكاملة</strong> التي تريد تحقيقها (من 100)</p>
                            <p>4. سيتم حساب علامة النهائي المطلوبة تلقائياً</p>
                            <p><strong>معادلة حساب النهائي:</strong> النهائي = (الكاملة - (النصفي × نسبة النصفي)) ÷ نسبة النهائي</p>
                        </div>
                        
                        <div class="grade-calc-section">
                            <h3 style="margin-bottom: 20px;">حاسبة علامة النهائي</h3>
                            
                            <div class="calc-form" id="gradeCalcForm">
                                <!-- سيتم تحميل نموذج الحساب هنا -->
                            </div>
                            
                            <div class="calc-result" id="gradeCalcResult" style="display: none;">
                                <h4>علامة النهائي المطلوبة</h4>
                                <div class="result-value" id="finalGradeResult">0.00</div>
                                <div class="result-label" id="finalGradeMessage">لتصل للعلامة الكاملة المطلوبة</div>
                            </div>
                        </div>
                        
                        <div class="calc-history" id="gradeCalcHistory" style="display: none;">
                            <h3 style="margin-bottom: 20px;">سجل الحسابات</h3>
                            <div class="semester-card">
                                <table class="history-table">
                                    <thead>
                                        <tr>
                                            <th>التاريخ</th>
                                            <th>النوع</th>
                                            <th>الكاملة</th>
                                            <th>النصفي</th>
                                            <th>النهائي</th>
                                            <th>الإجراء</th>
                                        </tr>
                                    </thead>
                                    <tbody id="historyTableBody">
                                        <!-- سيتم تحميل سجل الحسابات هنا -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- البحث عن المواد -->
                    <section class="content-section" id="searchSection">
                        <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                            <i class="fas fa-search"></i> البحث عن المواد
                        </h2>
                        
                        <div class="search-box">
                            <input type="text" class="search-input" id="courseSearchInput" placeholder="ابحث عن مادة...">
                            <button class="search-button" id="courseSearchBtn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        
                        <div id="searchResultsContainer">
                            <!-- نتائج البحث ستظهر هنا -->
                        </div>
                    </section>

                    <!-- الإحصائيات والرسوم البيانية -->
                    <section class="content-section" id="statisticsSection">
                        <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                            <i class="fas fa-chart-line"></i> الإحصائيات والرسوم البيانية
                        </h2>
                        
                        <div class="chart-section">
                            <h3 style="margin-bottom: 20px;">المعدل الفصلي عبر الفصول</h3>
                            <div class="chart-container">
                                <canvas id="semesterChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-section">
                            <h3 style="margin-bottom: 20px;">الساعات المعتمدة حسب الفصول</h3>
                            <div class="chart-container">
                                <canvas id="creditsChart"></canvas>
                            </div>
                        </div>
                    </section>

                    <!-- لوحة الإشراف -->
<section class="content-section" id="adminPanelSection" style="display: none;">
    <!-- تأكد من أن الـ ID هو adminPanelSection -->
    <h2 style="margin-bottom: 25px; color: var(--dark-color);">
        <i class="fas fa-user-shield"></i> لوحة الإشراف
    </h2>
                        
<div class="admin-tabs">
    <button class="admin-tab active" data-admin-tab="colleges">
        <i class="fas fa-university"></i> الكليات
    </button>
    <button class="admin-tab" data-admin-tab="majors">
        <i class="fas fa-graduation-cap"></i> التخصصات
    </button>
    <button class="admin-tab" data-admin-tab="coursesAdmin">
        <i class="fas fa-book"></i> المواد
    </button>
    <button class="admin-tab" data-admin-tab="assign">
        <i class="fas fa-link"></i> توزيع المواد
    </button>
    <button class="admin-tab" data-admin-tab="users">
        <i class="fas fa-users"></i> المستخدمين
    </button>
</div>                        
                        <!-- إدارة الكليات -->
                        <div class="admin-panel admin-tab-content active" id="collegesTab">
                            <h3 style="margin-bottom: 20px;">إدارة الكليات</h3>
                            <div class="form-group">
                                <label for="newCollegeName">اسم الكلية الجديدة</label>
                                <input type="text" id="newCollegeName" placeholder="اسم الكلية">
                            </div>
                            <button class="btn btn-success" id="addCollegeBtn">
                                <i class="fas fa-plus"></i> إضافة كلية
                            </button>
                            
                            <div id="collegesList" style="margin-top: 30px;">
                                <!-- قائمة الكليات -->
                            </div>
                        </div>
                        
                        <!-- إدارة التخصصات -->
                        <div class="admin-panel admin-tab-content" id="majorsTab" style="display: none;">
                            <h3 style="margin-bottom: 20px;">إدارة التخصصات</h3>
                            <div class="form-group">
                                <label for="newMajorName">اسم التخصص الجديد</label>
                                <input type="text" id="newMajorName" placeholder="اسم التخصص">
                            </div>
                            <div class="form-group">
                                <label for="majorCollege">الكلية</label>
                                <select id="majorCollege">
                                    <option value="">اختر الكلية</option>
                                </select>
                            </div>
                            <button class="btn btn-success" id="addMajorBtn">
                                <i class="fas fa-plus"></i> إضافة تخصص
                            </button>
                            
                            <div id="majorsList" style="margin-top: 30px;">
                                <!-- قائمة التخصصات -->
                            </div>
                        </div>
                        
                        <!-- إدارة المواد -->
                        <div class="admin-panel admin-tab-content" id="coursesAdminTab" style="display: none;">
                            <h3 style="margin-bottom: 20px;">إدارة المواد</h3>
                            <div class="form-group">
                                <label for="newCourseCode">كود المادة</label>
                                <input type="text" id="newCourseCode" placeholder="مثال: MATH101">
                            </div>
                            <div class="form-group">
                                <label for="newCourseName">اسم المادة</label>
                                <input type="text" id="newCourseName" placeholder="اسم المادة">
                            </div>
                            <div class="form-group">
                                <label for="newCourseCredits">الساعات المعتمدة</label>
                                <select id="newCourseCredits">
                                    <option value="1">1 ساعة</option>
                                    <option value="2">2 ساعات</option>
                                    <option value="3" selected>3 ساعات</option>
                                    <option value="4">4 ساعات</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="newCourseType">نوع المادة</label>
                                <select id="newCourseType">
                                    <option value="required-university">إجباري جامعة</option>
                                    <option value="elective-university">اختياري جامعة</option>
                                    <option value="required-college">إجباري كلية</option>
                                    <option value="required-major">إجباري تخصص</option>
                                    <option value="elective-major">اختياري تخصص</option>
                                </select>
                            </div>
                            <button class="btn btn-success" id="addCourseAdminBtn">
                                <i class="fas fa-plus"></i> إضافة مادة
                            </button>
                            
<!-- إدارة المواد - تأكد من أن الـ ID هو coursesAdminList -->
<div id="coursesAdminList" style="margin-top: 30px;">
    <!-- سيتم ملؤها ديناميكياً -->
</div>

                        </div>
                        
                        <!-- توزيع المواد -->
                        <div class="admin-panel admin-tab-content" id="assignTab" style="display: none;">
                            <h3 style="margin-bottom: 20px;">توزيع المواد على التخصصات</h3>
                            <div class="form-group">
                                <label for="assignCourse">اختر المادة</label>
                                <select id="assignCourse">
                                    <option value="">اختر المادة</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="assignCollege">الكليات المستهدفة</label>
                                <select id="assignCollege" multiple style="height: 150px;">
                                    <!-- سيتم ملؤها ديناميكياً -->
                                </select>
                                <small>اضغط Ctrl لاختيار أكثر من كلية</small>
                            </div>
                            <div class="form-group">
                                <label for="assignMajor">التخصصات المستهدفة</label>
                                <select id="assignMajor" multiple style="height: 150px;">
                                    <!-- سيتم ملؤها ديناميكياً -->
                                </select>
                                <small>اضغط Ctrl لاختيار أكثر من تخصص</small>
                            </div>
                            <button class="btn btn-primary" id="assignCourseBtn">
                                <i class="fas fa-link"></i> توزيع المادة
                            </button>
                            
                            <div id="assignedCoursesList" style="margin-top: 30px;">
                                <!-- قائمة المواد الموزعة -->
                            </div>
                        </div>
                        
                        <!-- إدارة المستخدمين -->
                        <div class="admin-panel admin-tab-content" id="usersTab" style="display: none;">
                            <h3 style="margin-bottom: 20px;">إدارة المستخدمين</h3>
                            <div id="usersList">
                                <!-- قائمة المستخدمين -->
                            </div>
                        </div>
                    </section>

                    <!-- إعدادات الحساب -->
                    <section class="content-section" id="profileSection">
                        <h2 style="margin-bottom: 25px; color: var(--dark-color);">
                            <i class="fas fa-user-cog"></i> إعدادات الحساب
                        </h2>
                        
                        <div class="semester-card">
                            <h3 style="margin-bottom: 20px;">معلومات الحساب</h3>
                            
                            <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
                                <div class="user-avatar" style="width: 80px; height: 80px; font-size: 2rem;" id="profileAvatar">
                                    م
                                </div>
                                <div>
                                    <h4 id="profileName">مستخدم</h4>
                                    <p id="profileEmail" style="color: var(--gray-medium);">example@email.com</p>
                                    <p style="color: var(--gray-medium); margin-top: 5px;">
                                        <i class="fas fa-calendar"></i> تاريخ الانضمام: <span id="joinDate">-</span>
                                    </p>
                                    <p style="color: var(--gray-medium); margin-top: 5px;">
                                        <i class="fas fa-user-tag"></i> نوع الحساب: <span id="profileRole">طالب</span>
                                    </p>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="profileNameInput">الاسم الكامل</label>
                                <input type="text" id="profileNameInput" placeholder="الاسم الكامل">
                            </div>
                            
                            <div class="form-group">
                                <label for="profileEmailInput">البريد الإلكتروني</label>
                                <input type="email" id="profileEmailInput" placeholder="البريد الإلكتروني" disabled>
                            </div>
                            
                            <!-- اختيار الكلية والتخصص للطلاب -->
                            <div id="studentFields" style="display: none;">
                                <div class="form-group">
                                    <label for="profileCollege">الكليات</label>
                                    <select id="profileCollege">
                                        <option value="">اختر كليتك</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="profileMajor">التخصصات</label>
                                    <select id="profileMajor">
                                        <option value="">اختر تخصصك</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary" id="updateProfileBtn">
                                <i class="fas fa-save"></i> حفظ التغييرات
                            </button>
                        </div>
                        
                        <div class="semester-card">
                            <h3 style="margin-bottom: 20px;">إدارة البيانات</h3>
                            
                            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                                <button class="btn btn-success" id="exportDataBtn">
                                    <i class="fas fa-file-export"></i> تصدير البيانات (JSON)
                                </button>
                                <button class="btn btn-light" id="importDataBtn">
                                    <i class="fas fa-file-import"></i> استيراد البيانات
                                </button>
                                <button class="btn btn-danger" id="deleteAccountBtn">
                                    <i class="fas fa-trash-alt"></i> حذف الحساب
                                </button>
                            </div>
                        </div>
                        
                        <div class="semester-card">
                            <h3 style="margin-bottom: 20px;">تسجيل الخروج</h3>
                            <p style="margin-bottom: 20px;">يمكنك تسجيل الخروج من حسابك في أي وقت</p>
                            <button class="btn btn-light" id="logoutBtn" style="border-color: var(--danger-color); color: var(--danger-color);">
                                <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
                            </button>
                        </div>
                    </section>
                </div>
            </main>
        </div>
    </div>

    <!-- إشعار الحفظ التلقائي -->
    <div class="save-notification" id="saveNotification" style="display: none;">
        <i class="fas fa-check-circle"></i>
        <span>تم حفظ البيانات تلقائياً</span>
    </div>

    <script src="app.js"></script>
</body>
</html>
